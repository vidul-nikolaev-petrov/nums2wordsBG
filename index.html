<!DOCTYPE html>
<html>
    <head>
        <title>Number to Words Example</title>
        <meta charset="UTF-8" />
        <script type="module">
            import nums2wordsBG from "./src/index.js";
            window.nums2wordsBG = nums2wordsBG;
        </script>
        <link
            href="https://fonts.googleapis.com/css?family=Didact Gothic"
            rel="stylesheet"
        />
        <link
            rel="apple-touch-icon"
            sizes="180x180"
            href="fav/apple-touch-icon.png"
        />
        <link
            rel="icon"
            type="image/png"
            sizes="32x32"
            href="fav/favicon-32x32.png"
        />
        <link
            rel="icon"
            type="image/png"
            sizes="16x16"
            href="fav/favicon-16x16.png"
        />
        <link rel="manifest" href="fav/site.webmanifest" />
        <style>
            body {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: flex-start;
                height: 100vh;
                margin: 0;
                padding: 0;
                font-family: "Didact Gothic";
            }

            #container {
                margin-top: 5%;
                width: 100%;
                max-width: 400px;
                text-align: center;
            }

            .input,
            #output {
                font-size: 18px;
                padding: 10px;
                text-align: center;
                box-sizing: border-box;
                margin-bottom: 20px;
            }

            .input {
                width: 300px;
            }
            .input::placeholder {
                text-align: right;
                padding-right: 32px;
            }

            #output {
                font-size: 24px;
                text-align: center;
                width: 70%;
            }

            input[type="number"]::-webkit-outer-spin-button,
            input[type="number"]::-webkit-inner-spin-button {
                -webkit-appearance: none;
                margin: 0;
            }

            .transition {
                opacity: 0;
                transition: opacity 0.5s ease-out;
            }
            .transition.show {
                opacity: 1;
            }

            h3 {
                text-align: center;
                font-size: 32px;
            }
        </style>
    </head>
    <body>
        <div id="container">
            <h3>nums2words-bg ðŸ‡§ðŸ‡¬</h3>
            <input
                type="number"
                placeholder="Ð’ÑŠÐ²ÐµÐ´ÐµÑ‚Ðµ Ñ‡Ð¸ÑÐ»Ð¾ Ñ†Ð¸Ñ„Ñ€Ð¾Ð¼"
                id="input"
                class="input"
                onkeyup="outputNumber('input', nums2wordsBG)"
            /><br />
            <input
                type="number"
                placeholder="Ð’ÑŠÐ²ÐµÐ´ÐµÑ‚Ðµ ÑÑƒÐ¼Ð° Ð² Ð»ÐµÐ²Ð¾Ð²Ðµ ðŸ‡§ðŸ‡¬"
                id="input-c1"
                class="input"
                onkeyup="outputNumber('input-c1', nums2wordsBG.currency)"
            /><br />
            <input
                type="number"
                placeholder="Ð’ÑŠÐ²ÐµÐ´ÐµÑ‚Ðµ Ð±Ð¸Ñ‚ÐºÐ¾Ð¹Ð½ ÑÑƒÐ¼Ð° â‚¿"
                id="input-8"
                class="input"
                onkeyup="outputNumber('input-8', nums2wordsBG.currency, {currency: 'btc'})"
            /><br />
            <input
                type="number"
                placeholder="Ð’ÑŠÐ²ÐµÐ´ÐµÑ‚Ðµ ÑÑƒÐ¼Ð° Ð² ÑŽÐ°Ð½Ð¸ ðŸ‡¨ðŸ‡³"
                id="input-c4"
                class="input"
                onkeyup="outputNumber('input-c4', nums2wordsBG.currency, {currency: 'cny'})"
            /><br />
            <input
                type="number"
                placeholder="Ð’ÑŠÐ²ÐµÐ´ÐµÑ‚Ðµ ÑÑƒÐ¼Ð° Ð² Ñ€ÑƒÐ±Ð»Ð¸ ðŸ‡·ðŸ‡º"
                id="input-c2"
                class="input"
                onkeyup="outputNumber('input-c2', nums2wordsBG.currency, {currency: 'rub'})"
            /><br />
            <input
                type="number"
                placeholder="Ð’ÑŠÐ²ÐµÐ´ÐµÑ‚Ðµ ÑÑƒÐ¼Ð° Ð² Ð´Ð¾Ð»Ð°Ñ€Ð¸ ðŸ‡ºðŸ‡¸"
                id="input-c3"
                class="input"
                onkeyup="outputNumber('input-c3', nums2wordsBG.currency, {currency: 'usd'})"
            />
            <input
                type="number"
                placeholder="Ð’ÑŠÐ²ÐµÐ´ÐµÑ‚Ðµ ÑÑƒÐ¼Ð° Ð² ÐµÐ²Ñ€Ð¾ ðŸ‡ªðŸ‡º"
                id="input-c10"
                class="input"
                onkeyup="outputNumber('input-c10', nums2wordsBG.currency, {currency: 'euro'}, euro)"
            />
        </div>
        <p id="output" class="transition"></p>
        <script>
            let timer;
            let previousNumber;

            const euro = function () {
                return {
                    euro: {
                        labelBig: "ÐµÐ²Ñ€Ð¾",
                        labelSmall: "Ñ†ÐµÐ½Ñ‚Ð°",
                        singular: { lv: "ÐµÐ²Ñ€Ð¾", st: "Ñ†ÐµÐ½Ñ‚" },
                        decimals: 100,
                        def: { lv: "n", st: "m" },
                        gender: {
                            1: { n: "ÐµÐ´Ð½Ð¾", m: "ÐµÐ´Ð¸Ð½" },
                            2: { n: "Ð´Ð²e", m: "Ð´Ð²Ð°" },
                        },
                    },
                };
            };

            function outputNumber(
                input,
                f,
                options = { currency: "bgn" },
                struct = null
            ) {
                const inputElement = document.getElementById(input);
                const outputElement = document.getElementById("output");
                const number = inputElement.value;
                if (number === previousNumber) return;
                if (number) {
                    previousNumber = number;
                    if (timer) {
                        clearTimeout(timer);
                    }
                    outputElement.classList.remove("show");
                    timer = setTimeout(() => {
                        if (struct) {
                            outputElement.innerHTML = f(
                                number,
                                options,
                                struct
                            );
                        } else {
                            outputElement.innerHTML = f(number, options);
                        }
                        outputElement.classList.add("show");
                    }, 256);
                } else {
                    outputElement.innerHTML = "";
                }
            }

            window.onload = function () {
                document.getElementById("input").focus();
            };
        </script>
    </body>
</html>
