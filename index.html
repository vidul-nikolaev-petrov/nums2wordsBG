<!DOCTYPE html>
<html>
    <head>
        <title>Number to Words Example</title>
        <meta charset="UTF-8" />
        <script src="src/index.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Didact Gothic" rel="stylesheet" />
        <link rel="apple-touch-icon" sizes="180x180" href="fav/apple-touch-icon.png" />
        <link rel="icon" type="image/png" sizes="32x32" href="fav/favicon-32x32.png" />
        <link rel="icon" type="image/png" sizes="16x16" href="fav/favicon-16x16.png" />
        <link rel="manifest" href="fav/site.webmanifest" />
        <style>
            body {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: flex-start;
                height: 100vh;
                margin: 0;
                padding: 0;
                font-family: "Didact Gothic";
            }

            #container {
                margin-top: 15%;
                width: 100%;
                max-width: 400px;
                text-align: center;
            }

            #input,
            #output {
                font-size: 18px;
                padding: 10px;
                box-sizing: border-box;
                margin-bottom: 20px;
                text-align: center;
            }

            #input {
                width: 300px;
            }

            #output {
                font-size: 24px;
                text-align: center;
                width: 70%;
            }

            input[type="number"]::-webkit-outer-spin-button,
            input[type="number"]::-webkit-inner-spin-button {
                -webkit-appearance: none;
                margin: 0;
            }

            .transition {
                opacity: 0;
                transition: opacity 0.5s ease-out;
            }
            .transition.show {
                opacity: 1;
            }
        </style>
    </head>
    <body>
        <div id="container">
            <input type="number" placeholder="Въведете число цифром" id="input" onkeyup="outputNumber()" />
        </div>
        <p id="output" class="transition"></p>
        <script>
            let timer;
            let previousNumber;
            function outputNumber() {
                const inputElement = document.getElementById("input");
                const outputElement = document.getElementById("output");
                const number = inputElement.value;
                if (number === previousNumber) return;
                if (number) {
                    previousNumber = number;
                    if (timer) {
                        clearTimeout(timer);
                    }
                    outputElement.classList.remove("show");
                    timer = setTimeout(() => {
                        outputElement.innerHTML = nums2wordsBG(number);
                        outputElement.classList.add("show");
                    }, 256);
                } else {
                    outputElement.innerHTML = "";
                }
            }

            window.onload = function () {
                document.getElementById("input").focus();
            };
        </script>
    </body>
</html>
